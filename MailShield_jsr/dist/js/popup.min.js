const find=function(t){return document.querySelector(t)},sendMessage=chrome.tabs.sendMessage,onMessage=chrome.runtime.onMessage,query=chrome.tabs.query,container=find("#container"),showAddBtn=find("#showAddBtn"),addArea=find(".add-area"),cancelBtn=find("#cancelBtn"),confirmBtn=find("#confirmBtn"),accountBtnArea=find("#accountBtnArea"),accountNameInput=find("#accountName"),accountInput=find("#account"),passwordInput=find("#password");var socket;const Plugin={initButton:function(){let t=this,e="",n={},a="",o="";for(let c in localStorage)localStorage.hasOwnProperty(c)&&(e=t.getStorage(c),a=(n=JSON.parse(e)).account,o=n.password,t.createButton(c))},bindEvent:function(){let t=this;accountBtnArea.addEventListener("click",function(e){e.stopPropagation();let n=e.target,a=e.target.className,o="",c={};"account-btn"===a?(o=n.parentNode.getAttribute("storage-key"),c=JSON.parse(t.getStorage(o))):"fa fa-trash"===a?(o=n.parentNode.parentNode.getAttribute("storage-key"),t.removeStorage(o),location.reload()):console.log("neither account-btn nor delete-btn.")},!1),showAddBtn.addEventListener("click",function(){addArea.style.display="block",showAddBtn.style.display="none"},!1),cancelBtn.addEventListener("click",function(){location.reload()},!1),confirmBtn.addEventListener("click",function(){window.location="/MailShield_HTML/result.html"},!1)},sendMsg:function(t,e){var n=t+"&"+e;socket.send(n)},showPanel:function(){addArea.style.display="block",showAddBtn.style.display="none"},hidePanel:function(){addArea.style.display="none",showAddBtn.style.display="block"},setStorage:function(t,e){localStorage.setItem(t,e)},getStorage:function(t){return localStorage.getItem(t)},removeStorage:function(t){localStorage.removeItem(t)},clearInput:function(){accountNameInput.value="",accountInput.value="",passwordInput.value=""},createButton:function(t,e,n){let a=document.createElement("div");a.className="button-row",a.setAttribute("storage-key",t);let o=document.createElement("button");o.className="account-btn",o.innerText=t;let c=document.createElement("div");c.className="icon-container";let i=document.createElement("i");i.className="fa fa-trash",c.appendChild(i),a.appendChild(o),a.appendChild(c),accountBtnArea.appendChild(a)},fillTheBlank:function(t,e){query({active:!0,currentWindow:!0},function(n){sendMessage(n[0].id,{action:"FILL_THE_BLANK",account:t,password:e},function(t){console.log(t)})})},init:function(){this.initButton(),this.bindEvent()}};Plugin.init();