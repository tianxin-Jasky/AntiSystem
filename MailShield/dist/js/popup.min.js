const find=function(t){return document.querySelector(t)},sendMessage=chrome.tabs.sendMessage,onMessage=chrome.runtime.onMessage,query=chrome.tabs.query,container=find("#container"),showAddBtn=find("#showAddBtn"),addArea=find(".add-area"),cancelBtn=find("#cancelBtn"),confirmBtn=find("#confirmBtn"),accountBtnArea=find("#accountBtnArea"),accountNameInput=find("#accountName"),accountInput=find("#account"),passwordInput=find("#password"),Plugin={initButton:function(){let t=this,e="",n={},o="",a="";for(let c in localStorage)localStorage.hasOwnProperty(c)&&(e=t.getStorage(c),o=(n=JSON.parse(e)).account,a=n.password,t.createButton(c))},bindEvent:function(){let t=this;accountBtnArea.addEventListener("click",function(e){e.stopPropagation();let n=e.target,o=e.target.className,a="",c={};"account-btn"===o?(a=n.parentNode.getAttribute("storage-key"),c=JSON.parse(t.getStorage(a)),console.log("在这里传输"),console.log(c.account),console.log(c.password)):"fa fa-trash"===o?(a=n.parentNode.parentNode.getAttribute("storage-key"),t.removeStorage(a),console.log("在这里删除"),location.reload()):console.log("neither account-btn nor delete-btn.")},!1),showAddBtn.addEventListener("click",function(){addArea.style.display="block",showAddBtn.style.display="none"},!1),cancelBtn.addEventListener("click",function(){location.reload()},!1),confirmBtn.addEventListener("click",function(){let e=accountNameInput.value,n=accountInput.value,o=passwordInput.value;if(""===e||""===n||""===o)return void console.info("input incomplete.");let a={account:n,password:o},c=JSON.stringify(a);t.setStorage(e,c),t.clearInput(),location.reload()},!1)},showPanel:function(){addArea.style.display="block",showAddBtn.style.display="none"},hidePanel:function(){addArea.style.display="none",showAddBtn.style.display="block"},setStorage:function(t,e){localStorage.setItem(t,e)},getStorage:function(t){return localStorage.getItem(t)},removeStorage:function(t){localStorage.removeItem(t)},clearInput:function(){accountNameInput.value="",accountInput.value="",passwordInput.value=""},createButton:function(t,e,n){let o=document.createElement("div");o.className="button-row",o.setAttribute("storage-key",t);let a=document.createElement("button");a.className="account-btn",a.innerText=t;let c=document.createElement("div");c.className="icon-container";let i=document.createElement("i");i.className="fa fa-trash",c.appendChild(i),o.appendChild(a),o.appendChild(c),accountBtnArea.appendChild(o)},fillTheBlank:function(t,e){query({active:!0,currentWindow:!0},function(n){sendMessage(n[0].id,{action:"FILL_THE_BLANK",account:t,password:e},function(t){console.log(t)})})},init:function(){this.initButton(),this.bindEvent()}};Plugin.init();